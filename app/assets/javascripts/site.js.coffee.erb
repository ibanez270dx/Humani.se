$(document).ready ->
  
  scaleSite = ->
    console.log "scaling site..."

    # First get the width of the window and scale the background image.
    width = $(window).width()
    $('body').css('background-size',"#{width}px")
    
    # Now iterate over the glass-containers and set thier background positions.
    $('article.glass-box').each ->
      offset = $(this).offset().top # offset in px from the top of the page.
      $(this).css('background-position-y','-' + offset + 'px')
      $(this).css('background-size', "#{width}px")
      $(this).css('background-repeat', 'no-repeat')
        
  $(window).resize ->
    scaleSite()
    
  scaleSite()
  
  $('ul.social-icons img').on 'mouseenter', (event) ->
    url = $(this).prop('src').split('/')
    site = url.pop().split('-')[0]
    $(this).prop('src',"assets/social-icons/"+site+'-on.png')
    
  $('ul.social-icons img').on 'mouseleave', (event) ->
    url = $(this).prop('src').split('/')
    site = url.pop().split('-')[0]
    $(this).prop('src',"assets/social-icons/"+site+'-off.png')